---
layout: post
title: 'Pillow入门'
subtitle: '图像处理'
date: 2020-09-23
categories: 技术
tags: Python
music-id: 469104848
---

> Pillow官方文档：https://pillow-cn.readthedocs.io/zh_CN/latest/index.html

Pillow 是 PIL 的替代版本，PIL 软件包提供了基本的图像处理功能，如：改变图像大小，旋转图像，图像格式转换，色场空间转换，图像增强，直方图处理，插值和滤波等等。你可以通过

```
$ pip install --use-wheel Pillow
from PIL import Image
```
来安装并使用

#### 图片裁剪

Image.crop(left, up, right, below)left：与左边界的距离 up：与上边界的距离 right：还是与左边界的距离 below：还是与上边界的距离。(left,up),(right,below)分别为左上角和右下角的坐标
矩形选区由一个4元元组定义，分别表示左、上、右、下的坐标。这个库以左上角为坐标原点，单位是px，所以以下代码复制了一个 900x900 pixels 的矩形选区。这个选区现在可以被处理并且粘贴到原图。（注意：裁剪的范围一定要在图片的范围之内）


```
rect = (100,100,1000,1000)
image.crop(rect).show()
```
* 将一张图片裁剪成九宫格：

```
from PIL import Image

image = Image.open('img/PillowCrop/成果.jpg')
imgSize = image.size    #size(weight,height)=(2922,3992)
imgWeight = int(imgSize[0] // 3)
imgHeight = int(imgSize[1] // 3)

for i in range(3):
    for j in range(3):
        box = (imgWeight*j,imgHeight*i,imgWeight*(j+1),imgHeight*(i+1))
        result = image.crop(box)
        result.save("img/PillowCrop/{}{}.jpg".format(i,j))
```

* 修改图片格式：

```
f,e = os.path.splitext('img/PillowCrop/成果.jpg')
outimg = f + '.png'
if image != outimg:
    try:
        image.save(outimg)
    except IOError:
        print("Don't convert",image)
```

* other

![](https://lz.sinaimg.cn/orj1080/ebeef3aaly3gj0lg890m7j20w01kwgz6.jpg)



