{% assign lang = page.lang | default: site.default_lang %}
{% assign locales = site.data.locales[lang] %}
{% assign footer = locales.footer%}
<footer class="g-footer">
  <div class="g-container">
    <div class="g-left">
      <section class="links">
        {{ footer.driver }}
        {% if site.version %} (<a href="https://github.com/zhonger/jekyll-theme-H2O-ac/releases/tag/v{{ site.version }}"
          target="_blank" class="extlinks">v{{ site.version }}</a>){% endif %}
        {% if site.supports.webify %} & <a href="https://webify.cloudbase.net/" target="_blank"
          class="extlinks">CloudBase Webify</a> {% endif %}
      </section>
      <section class="links">{{ site.title }} Â©
        <input type="hidden" id="footer-since" value="{{ site.footer.since }}">
        <span id="footer-year"></span>
        {% if site.beian and site.beian != "" %}
        <a href="https://beian.miit.gov.cn/" target="_blank" class="extlinks">{{ site.beian }}</a>
        {% endif %}
        {% if site.moe_beian and site.moe_beian != "" %}
        <a href="https://icp.gov.moe/?keyword={{ site.moe_beian }}" target="_blank" class="extlinks">èŒICPå¤‡{{ site.moe_beian }}å·</a>
        {% endif %}
        <a href="/rss.xml" target="_blank" aria-label="Terms of Service" class="others">
          <svg class="icon" aria-hidden="true">
            <use xlink:href="#icon-rss"></use>
          </svg> RSS
        </a>
        <a href="/tos.html" target="_blank" aria-label="Terms of Service" class="others">
          <svg class="icon" aria-hidden="true">
            <use xlink:href="#icon-tos"></use>
          </svg> {{footer.tos.name}}
        </a>
      </section>
      {% if site.busuanzi %}
      <section class="links">
        <span id="busuanzi_container_site_pv">
          <svg class="icon" aria-hidden="true">
            <use xlink:href="#icon-pv"></use>
          </svg> {{ footer.views }}
          {% if site.busuanzi_url %}
          <span id="busuanzi_site_pv">
            {% else %}
            <span id="busuanzi_value_site_pv"></span>
            {% endif %}
            <b>Â·</b>
          </span>
        </span>
        <span id="busuanzi_container_site_uv">
          <svg class="icon" aria-hidden="true">
            <use xlink:href="#icon-user"></use>
          </svg> {{ footer.visitors }}
          {% if site.busuanzi_url %}
          <span id="busuanzi_site_uv"></span>
          {% else %}
          <span id="busuanzi_value_site_uv"></span>
          {% endif %}
        </span>
      </section>
      {% endif %}
      <section>
        {% if site.alivetime %}
        {{ footer.running.info }}
        <span class="alivetime_days"></span> {{ footer.running.day }}
        <span class="alivetime_hours"></span> {{ footer.running.hour }}
        <span class="alivetime_minutes"></span> {{ footer.running.minute }}
        <span class="alivetime_seconds"></span> {{ footer.running.second }}
        {% endif %}
      </section>
    </div>
    <div class="g-right">
      {% if site.supports.upyun %}
      <section>
        <a href="https://www.upyun.com/?utm_source=lianmeng&utm_medium=referral" target="_blank" class="extlinks">{{
          footer.upyun }} <img src="{{ "/assets/icons/upyun.png" | prepend: site.baseurl }}" class="upyun" alt="upyun" /></a>
      </section>
      {% endif %}
      {% if site.badges.netlify or site.badges.vercel or site.badges.cloudflare %}
      <section class="badges">
        {% if site.badges.netlify %}
        <a href="https://netlify.com" target="_blank" class="netlify" aria-label="netlify">
          <img src="{{ "/assets/icons/netlify-icon-light.svg" | prepend: site.baseurl }}" alt="netlify">
        </a>
        {% endif %}
        {% if site.badges.vercel %}
        <a href="https://vercel.com" target="_blank" class="vercel" aria-label="vercel">
          <img src="{{ "/assets/icons/vercel-logotype-dark.png" | prepend: site.baseurl }}" alt="vercel">
        </a>
        {% endif %}
        {% if site.badges.cloudflare %}
        <a href="https://www.cloudflare.com" target="_blank" class="cloudflare" aria-label="cloudflare">
          <img src="{{ "/assets/icons/cloudflare-logo.webp" | prepend: site.baseurl }}" alt="cloudflare">
        </a>
        {% endif %}
      </section>
      {% endif %}
      {% if site.badges.foreverblog or site.badges.wormhole or site.badges.travelling or site.badges.notbyAI %}
      <section class="badges">
        {% if site.badges.foreverblog %}
        <a href="https://www.foreverblog.cn/" target="_blank" class="foreverblog" aria-label="foreverblog">
          <img src="{{ "/assets/icons/forever_en_default.png" | prepend: site.baseurl }}" alt="foreverblog">
        </a>
        {% endif %}
        {% if site.badges.wormhole %}
        <a href="https://www.foreverblog.cn/go.html" target="_blank" class="wormhole" aria-label="wormhole">
          <img src="{{ "/assets/icons/wormhole_3.gif" | prepend: site.baseurl }}" alt="" title="ç©¿æ¢­è™«æ´-éšæœºè®¿é—®åå¹´ä¹‹çº¦å‹é“¾åšå®¢">
        </a>
        {% endif%}
        {% if site.badges.travelling %}
        <a href="https://www.travellings.cn/go.html" target="_blank" class="travelling-badge" aria-label="Travelling"
          rel="noopener" title="å¼€å¾€-å‹é“¾æ¥åŠ›">
          <img src="{{ "/assets/icons/travellings.gif" | prepend: site.baseurl }}" alt="å¼€å¾€-å‹é“¾æ¥åŠ›">
        </a>
        {% endif %}
        {% if site.badges.notbyAI %}
        <a href="https://notbyai.fyi/" target="_blank" class="notbyAI" aria-label="notbyAI">
          <img src="{{ "/assets/icons/notbyAI-white.png" | prepend: site.baseurl }}" alt="Written by Human, Not by AI">
        </a>
        {% endif %}
      </section>
      {% endif %}
    </div>
    {% if site.cnzz %}
    <script
      type="text/javascript">document.write(unescape("%3Cspan id='cnzz_stat_icon_{{ site.cnzz }}'%3E%3C/span%3E%3Cscript src='https://v1.cnzz.com/z_stat.php%3Fid%3D{{ site.cnzz }}%26show%3Dpic' type='text/javascript'%3E%3C/script%3E"));</script>
    {% endif %}
  </div>
</footer>
<div class="cookie-tip">
  {{ cookie.cookieconsent_status }} {{ footer.tos.left }}ã€Œ <a href="{{ site.tos | prepend: site.baseurl }}">{{
    footer.tos.middle }}</a> ã€{{ footer.tos.right }}

  <button id="accept-tos">{{ footer.tos.btn }}</button>
</div>

<section id="tools">
  {% if page.submenu %}
  <div class="tool collection">
    <svg class="icon b1 active" aria-hidden="true">
      <use xlink:href="#icon-submenu"></use>
    </svg>
    <svg class="icon b2" aria-hidden="true">
      <use xlink:href="#icon-exit"></use>
    </svg>
  </div>
  {% endif %}
  {% if page.content contains 'h1' or page.content contains 'h2' or page.content contains 'h3' or page.content contains
  'h4' or page.content contains 'h5' or page.content contains 'h6' and site.toc %}
  <div class="tool toc">
    <svg class="icon b1 active" aria-hidden="true">
      <use xlink:href="#icon-toc"></use>
    </svg>
    <svg class="icon b2" aria-hidden="true">
      <use xlink:href="#icon-exit"></use>
    </svg>
  </div>
  {% endif %}
</section>
<section id="bttb" aria-label="Scroll back to top" class="bttb">
  <div class="tool">
    <svg class="icon top" aria-hidden="true">
      <use xlink:href="#icon-top"></use>
    </svg>
  </div>
</section>

<script>
    // 1. å…¨å±€æ•°æ®
    window.totalPosts = [
        {% for post in site.posts %}
            "{{ post.url | relative_url }}"{% unless forloop.last %},{% endunless %}
        {% endfor %}
    ];

    // 2. æ ¸å¿ƒè·³è½¬å‡½æ•°
    function triggerRandomJump() {
        var list = window.totalPosts;
        if (list && list.length > 0) {
            var randomIndex = Math.floor(Math.random() * list.length);
            var target = list[randomIndex];
            // console.log("ğŸ² æ­£åœ¨ä» 75 ç¯‡æ–‡ç« ä¸­æŠ½ç­¾... é€‰ä¸­äº†ï¼š", target);
            window.location.href = target;
        }
    }

    // 3. æš´åŠ›æ¥ç®¡
    $(document).ready(function() {
        // é€‰æ‹©å™¨æ¶µç›–äº†å¯¼èˆªæ å’Œå¯èƒ½çš„ä¾§è¾¹æ éšæœºæŒ‰é’®
        var $btn = $(".random a, #random-toggle a, .nav-random a");

        // å…ˆè§£ç»‘æ‰€æœ‰å·²çŸ¥çš„ç‚¹å‡»äº‹ä»¶
        $btn.off("click");

        // ä½¿ç”¨åŸç”Ÿ JS ç›‘å¬ï¼Œç¡®ä¿ä¼˜å…ˆçº§æœ€é«˜ï¼Œå¹¶é˜»æ­¢åç»­æ‰€æœ‰äº‹ä»¶
        $btn.each(function() {
            this.onclick = function(e) {
                e.preventDefault();
                e.stopImmediatePropagation(); // å…³é”®ï¼šé˜»æ­¢å…¶ä»– JS è„šæœ¬å‘ç°è¿™ä¸ªç‚¹å‡»
                triggerRandomJump();
                return false;
            };
        });
        
        console.log("âœ… éšæœºæŒ‰é’®å·²å¼ºåˆ¶æ¥ç®¡ï¼Œæ‰€æœ‰æ—§é€»è¾‘å·²å±è”½ã€‚");
    });
</script>